jQuery(function(c){var d={init:function(){this.cacheElements();this.bindEvents();this.render()},cacheElements:function(){this.$textareas=c("textarea");this.$pluginTab=c("a[href=#tabsysMuramarkdown]").parent()},bindEvents:function(){this.$textareas.live("instanceReady.ckeditor",this.removeEditor)},render:function(){this.$pluginTab.hide()},removeEditor:function(b,a){var e=c("#"+a.name);a.destroy();d.setupMarkdown(e)},setupMarkdown:function(b){var a=b.attr("id"),e,f,g;e=c("<div></div>",{id:a+"-button-bar",
"class":"wmd-button-bar"});f=c("<div></div>",{id:a+"-preview","class":"wmd-preview",css:{display:"none"}});g=c("<div></div>",{id:a+"-preview-toggle","class":"wmd-preview-toggle",html:"<p>Show Preview</p>"});b.before(e).after(f).after(g).addClass("wmd-input");setup_wmd({input:a,button_bar:a+"-button-bar",preview:a+"-preview"});d.replaceHTML(b);d.setupPreviewLinks(b)},replaceHTML:function(b){var a=b.siblings(".wmd-preview").html(),a=toMarkdown(a);b.html(a);b.val(a)},setupPreviewLinks:function(b){b.siblings(".wmd-preview-toggle").on("click",
d.togglePreview)},togglePreview:function(){var b=c(this),a=b.find("p");b.siblings(".wmd-preview").slideToggle();"Show Preview"===a.text()?a.text("Hide Preview"):a.text("Show Preview")}};return d.init()});